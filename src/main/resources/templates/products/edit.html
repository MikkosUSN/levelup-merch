<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="fragments/_layout :: layout">
<head><title>Edit Product</title></head>
<body>
<div th:fragment="content" class="container mt-4">

  <h2>Edit Product</h2>
  <hr/>

  <!-- Team note: bind to existing product; controller sets model attribute -->
  <form th:action="@{'/products/edit/' + ${product.id}}" th:object="${product}" method="post" class="row g-3">

    <div class="col-md-6">
      <label class="form-label">Name</label>
      <input type="text" th:field="*{name}" class="form-control" required />
      <div class="text-danger small" th:errors="*{name}"></div>
    </div>

    <div class="col-md-6">
      <label class="form-label">Manufacturer</label>
      <input type="text" th:field="*{manufacturer}" class="form-control" required />
      <div class="text-danger small" th:errors="*{manufacturer}"></div>
    </div>

    <div class="col-md-6">
      <label class="form-label">Category</label>
      <input type="text" th:field="*{category}" class="form-control" required />
      <div class="text-danger small" th:errors="*{category}"></div>
    </div>

    <div class="col-md-6">
      <label class="form-label">Part Number</label>
      <input type="text" th:field="*{partNumber}" class="form-control" required />
      <div class="text-danger small" th:errors="*{partNumber}"></div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Quantity</label>
      <input type="number" min="0" th:field="*{quantity}" class="form-control" required />
      <div class="text-danger small" th:errors="*{quantity}"></div>
    </div>

    <div class="col-md-3">
      <label class="form-label">Price</label>
      <!-- Team note: model uses BigDecimal + @NumberFormat for two decimals -->
      <input type="number" step="0.01" min="0" th:field="*{price}" class="form-control" required />
      <div class="text-danger small" th:errors="*{price}"></div>
    </div>

    <div class="col-12">
      <label class="form-label">Description</label>
      <textarea th:field="*{description}" class="form-control" rows="3" required></textarea>
      <div class="text-danger small" th:errors="*{description}"></div>
    </div>

    <div class="col-12 d-flex gap-2">
      <button class="btn btn-primary" type="submit">Save Changes</button>
      <a class="btn btn-secondary" th:href="@{'/products/' + ${product.id}}">Cancel</a>
    </div>
  </form>

</div>
</body>
</html>
